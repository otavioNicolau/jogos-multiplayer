<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Snake ‚Äî PRO Multiplayer</title>
  <style>
    :root{ --ink:#e8ecff; --muted:#aab3ff; --accent:#7c5cff; }
    html,body{height:100%;margin:0}
    body{background:#0b1020;color:var(--ink);font-family:system-ui,Arial}
    #screen-setup,#screen-rank{position:fixed;inset:0;display:grid;place-items:center;background:radial-gradient(1200px 600px at 50% -10%, #1a2045 0%, #0b1020 60%);}
    .setup-card{width:min(900px,92vw);padding:24px;border:1px solid #2f3568;border-radius:16px;background:rgba(18,21,52,.55);backdrop-filter: blur(6px);} 
    .setup-title{display:flex;align-items:center;gap:10px;font-size:28px;font-weight:800;margin:0 0 16px}
    .setup-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    .setup-grid .full{grid-column:1/-1}
    .setup-grid label{font-size:12px;color:var(--muted)}
    .setup-grid input,.setup-grid select,.setup-grid button{background:#1b1f3a;color:#fff;border:1px solid #2f3568;border-radius:12px;padding:10px 12px;font-weight:600}
    .setup-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:10px}
    .hint{color:#9bb;font-size:12px;margin-top:6px}
    #screen-game{position:fixed;inset:0;display:none;background:#0b1020}
    #game{position:absolute;inset:0}
    #game > canvas{position:absolute;inset:0;width:100vw;height:100vh;display:block;background:#0f0f17}
    .overlay{position:absolute;z-index:10;color:var(--ink);font-size:12px}
    .hud-top{top:8px;left:12px;right:12px;display:flex;gap:8px;align-items:center;pointer-events:none}
    .pill{padding:6px 10px;border-radius:999px;background:rgba(20,24,55,.35);backdrop-filter: blur(4px);border:1px solid rgba(127,140,255,.25); pointer-events:auto}
    .mini{top:12px;right:12px;width:220px;height:220px;border-radius:12px;border:1px dashed rgba(127,140,255,.35);overflow:hidden;}
    .mini canvas{width:100%;height:100%;background:transparent}
    .leader{right:12px;bottom:120px;max-width:250px}
    .leader h3{margin:0 0 4px 0;font-size:12px;color:#cfe}
    .leader ol{margin:0;padding-left:16px;line-height:1.5}
    .chat{left:12px;bottom:12px;width:min(420px,50vw)}
    .chatlog{height:110px;overflow:auto;border:1px dashed rgba(127,140,255,.35);border-radius:10px;padding:6px;background:transparent}
    .chatlog div{color:#d6d9ff;margin:2px 0}
    .chat input{width:100%;margin-top:6px;background:rgba(20,24,55,.35);border:1px solid rgba(127,140,255,.25);border-radius:10px;padding:8px 10px;color:#fff}
    .toggles{position:absolute;top:12px;left:12px;z-index:11;display:flex;gap:6px}
    .toggles button{background:rgba(20,24,55,.35);backdrop-filter:blur(4px);border:1px solid rgba(127,140,255,.25);color:#fff;border-radius:10px;padding:6px 10px;font-weight:700}
    .dpad{position:absolute;right:12px;bottom:12px;z-index:11;display:grid;grid-template-columns:40px 40px 40px;gap:8px;opacity:.7}
    .dpad button{background:rgba(20,24,55,.35);border:1px solid rgba(127,140,255,.25);color:#fff;border-radius:10px;padding:8px}
    .dpad .ghost{visibility:hidden}
    #pause{position:absolute;inset:0;display:none;place-items:center;background:rgba(0,0,0,.25);backdrop-filter: blur(2px)}
    #pause .box{background:rgba(18,21,52,.8);border:1px solid #2f3568;border-radius:14px;padding:16px;display:grid;gap:8px}
    #pause button{background:#1b1f3a;color:#fff;border:1px solid #2f3568;border-radius:12px;padding:10px 12px;font-weight:700}
    .hide{display:none!important}
  </style>
</head>
<body>
  <section id="screen-setup" aria-label="Login">
    <div class="setup-card">
      <h1 class="setup-title">üêç Snake ‚Äî PRO Multiplayer</h1>
      <div class="setup-grid">
        <div class="full">
          <label>Seu nome</label>
          <input id="playername" placeholder="Jogador" />
        </div>
        <div>
          <label>Zoom</label>
          <select id="zoom">
            <option value="20">Compacto</option>
            <option value="24" selected>Padr√£o</option>
            <option value="28">1.2x</option>
            <option value="32">Grande</option>
          </select>
        </div>
        <div class="full hint">Dica: voc√™ pode reabrir esta tela a qualquer momento com <b>Esc</b>.</div>
      </div>
      <div class="setup-actions">
        <button id="btnRank">Ranking</button>
        <button id="btnStart">Entrar no jogo</button>
      </div>
    </div>
  </section>
  <section id="screen-rank" aria-label="Ranking" style="display:none">
    <div class="setup-card">
      <h1 class="setup-title">üèÜ Ranking</h1>
      <ol id="rankList"></ol>
      <div class="setup-actions">
        <button id="backToLogin">Voltar</button>
      </div>
    </div>
  </section>
  <section id="screen-game" aria-label="Jogo">
    <div id="game">
      <canvas id="c" aria-label="tabuleiro"></canvas>
      <div class="toggles">
        <button id="toggleMini" title="Mini‚Äëmapa (M)">Mini</button>
        <button id="toggleLeader" title="Leaderboard (L)">Rank</button>
        <button id="toggleChat" title="Chat (C)">Chat</button>
      </div>
      <div class="overlay hud-top" id="hud">
        <span class="pill">Pontos: <b id="score">0</b></span>
        <span class="pill">Jogadores: <b id="pcount">0</b></span>
        <span class="pill">Ping: <b id="ping">--</b> ms</span>
        <span class="pill">Mundo: <b id="world">--</b></span>
        <span class="pill">Sala: <b id="roomLabel">public</b></span>
      </div>
      <div class="overlay mini" id="miniWrap"><canvas id="mini"></canvas></div>
      <div class="overlay leader" id="leaderWrap">
        <h3>üèÜ Leaderboard</h3>
        <ol id="leader"></ol>
      </div>
      <div class="overlay chat" id="chatWrap">
        <div class="chatlog" id="chatlog"></div>
        <input id="chatmsg" placeholder="Escreva e Enter‚Ä¶" />
      </div>
      <div class="dpad" id="dpad">
        <button data-dir="up">‚¨ÜÔ∏è</button>
        <div class="ghost"></div>
        <button data-dir="right">‚û°Ô∏è</button>
        <button data-dir="left">‚¨ÖÔ∏è</button>
        <div class="ghost"></div>
        <button data-dir="down">‚¨áÔ∏è</button>
      </div>
      <div id="pause" class="hide">
        <div class="box">
          <b>Jogo pausado</b>
          <button id="resume">Retomar (Esc)</button>
          <button id="backToSetup">Voltar ao Lobby</button>
          <button id="disconnect">Desconectar</button>
        </div>
      </div>
    </div>
  </section>
  <script src="minimap.js"></script>
  <script src="client.js"></script>
</body>
</html>
